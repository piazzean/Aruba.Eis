CREATE TABLE [dbo].[Activities] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Activities] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ActivityResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ActivityId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ActivityResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ActivityId] ON [dbo].[ActivityResources]([ActivityId])
CREATE TABLE [dbo].[ScheduleResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ScheduleResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[ScheduleResources]([ScheduleId])
CREATE TABLE [dbo].[Schedules] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [StartDateTime] [datetime] NOT NULL,
    [EndDateTime] [datetime] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Schedules] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Assignements] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [UserId] [nvarchar](128),
    [RoleId] [nvarchar](max),
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Assignements] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[Assignements]([ScheduleId])
CREATE INDEX [IX_UserId] ON [dbo].[Assignements]([UserId])
CREATE TABLE [dbo].[AspNetUsers] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](max),
    [Address] [nvarchar](max),
    [ZipCode] [nvarchar](max),
    [City] [nvarchar](max),
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
CREATE TABLE [dbo].[AspNetUserClaims] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [nvarchar](128) NOT NULL,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
CREATE TABLE [dbo].[AspNetUserLogins] (
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
CREATE TABLE [dbo].[AspNetUserRoles] (
    [UserId] [nvarchar](128) NOT NULL,
    [RoleId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
CREATE TABLE [dbo].[TeamResources] (
    [Id] [int] NOT NULL IDENTITY,
    [TeamId] [int] NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.TeamResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_TeamId] ON [dbo].[TeamResources]([TeamId])
CREATE INDEX [IX_UserId] ON [dbo].[TeamResources]([UserId])
CREATE TABLE [dbo].[Teams] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Teams] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[AspNetRoles] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
ALTER TABLE [dbo].[ActivityResources] ADD CONSTRAINT [FK_dbo.ActivityResources_dbo.Activities_ActivityId] FOREIGN KEY ([ActivityId]) REFERENCES [dbo].[Activities] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ScheduleResources] ADD CONSTRAINT [FK_dbo.ScheduleResources_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id])
ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.Teams_TeamId] FOREIGN KEY ([TeamId]) REFERENCES [dbo].[Teams] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801081637265_Version1.0.0r1', N'Aruba.Eis.Migrations.Configuration',  0x1F8B0800000000000400ED1DD96EDCC8F13D40FE8198A724D06A74C4C64618ED4219CB89105B323CF222C88B410D5B236239E42CC9F14A08F6CBF2904FCA2FA49B67DF07D93CC6260C181AB2BAAABA5855DD5D5DDDF5BFFFFC77F1E3F33670BE8038F1A3F072767A7C327340B88E3C3FDC5CCEF6E9E377DFCF7EFCE1F7BF5B5C7BDB67E7A712EE1CC1C1966172397B4AD3DDC57C9EAC9FC0D64D8EB7FE3A8E92E8313D5E47DBB9EB45F3B39393BFCC4F4FE700A298415C8EB3F8B80F537F0BB21FF0E7320AD76097EEDDE07DE48120299EC337AB0CAB73EB6E41B273D7E0727615EF1FDCE36B3F39BE8638D297B7317CF76B14FF3C73AE02DF850CAD40F03873DC308C523785EC5E7C4AC02A8DA370B3DAC1076E70FFB20310EED10D125074E3A206D7EDD1C919EAD1BC6E58A25AEF9334DA1A223C3D2F4434A79B3712F4AC122114622E28D4EB4C905086EBD4FF021FE52F660E4DF26219C4081C9776FE6572A1FB203926711C3915E451A526509BD0BF2367B90FD27D0C2E43B04F633738723EEC1F027FFD0FF0721FFD0CC2CB701F0438C79067F88E78001F7D88A31D88D3978FE0B1E8C78D3773E664BB39DDB06A86B5C9FB7613A6E76733E71612771F025029042687551AC5E06F2004B19B02EF839BA6200E110E50486E2EA5B584322BA9410D84363573DEBBCFEF40B8499F2E67AFA011BDF59F81573E2818F814FAD002619B34DE030E8372A2E87F09D1B357AFBAA0FA060A68190324A692387A74EF6F954DA179C654D3E6C252730915D97FF49BB149B7B5C6E7ADFBC5DF643A4751FD0892681FAF4132733E822083489EFC5DEEE52A232CA17263FC5C3E869CC4D1F6631460362F00FD7CEFC61B90C28E457AF0ABEC29D991C5BC76355A0E8844DECE1191B82687C4A355CA4A4D538E07A9C88DCC0AE09F16CCF5BD1FDEADD7FB3869C72D64C6069AC9C575E3E26A6FD5AD872B3D96AE872B3D62230F8726AEDE3E00363C1C1FD7E4E178B44A594D1E6EF270A3F170A552723D1CDFBA3FD76D6A0FA700653C9C0ADE8A87B3E1D9268F26A6F50D2D2257A91BA7B529D3A66D88ED3AF4ACE19A3C634773BF24F137E1165A8260815BBD97B8452110BBA81542F296B3CDD7E5167D3ADD05DD31A0D9BA9C924FC315398565F2EB5C676769A68A0C573A533D3DFBDE826FE969423C39DA01A6A02DBD2CB3B056FA635DAE91ACF438CE2125DC220035A71954AB69F1D56E07BD57C66FCE938107A5DA1EA2DF6CE17FEC4E51EDB8A32BCF8B4192744EE75FFE4E31CFB74367990D4C1D13B9DEBA7E205D3DBCB6456519858F7EBCAD3DE95F2368D86E68AC4D1FDC24F9358ABDBFBBC953E7025A81F53E865F02AE77B6BBCEA97D788A4270BBDF3E206FD41F2D6B9FE6FED7E8ADBB8693ADEB10B56A8DEF5DB4FE39DAA7C5F2F053BA361DC12B0456D8B95AC35544F2162A33F096D13E4CDB4F0795AB773DFB5351160EDBCBC0F5B782051D39C47D2E41B1919B0BC10EDD7C30D319C6BB68E3877AAC96A06256730825AB059829AB08991EA705A498D10C40C9670E65CAE63D70B7F2D5310E2198BE094098D5B008AED52AB85CC1650B0AA456B249DCFB2A0DE72AD9DD82F4B86C4DE7271D33688F1CEDC6F5FCEF4C77FE777EFAF078FEFDABD7AE77FEFACFE0FCD5D7B886B6B6F63574B2D9E74344BB9FB0214A3FB9C1DE36A946D690792EFBD690A11DBF35646CC2C75F7C0F79ABB9BA45090CD16BC197FA6C6A7314677D9B03D1CDBE89F7E3031A990B1AA3EC5B0BC23A7E63E1AB3217B40C2D9A6AFD50DE5F190AED57E3D83950B3B03D8BE7100350DD4F3A909C4613B49FF63147115E473AA1BBD6C961A56B1DF488599E89E0AC05D55BACCB34786D1F5A4748DB3AB8C9B189697D439926931F1CE2B8420B67A811F8219C66ABB9BBFD79FB61CCD9BF92ADBFCEE3DBC8B6F81A8E7FEFCF0558ADDCEC5B66E0E480988C99574912ADFD8C2BE9519B3A819EECF275E83986D9F4F95710E7EAC34F0355D747A165F8EB72F62746CEFA442B2FC012E5133B9DD15A7F17BE01014881831AA2C3994B3759BB1EFBF5A1843DF209341410A3CFE3A27DC7049AA11FA6AC55F9E1DADFB981599728349AE689D8AC08D26FDE801D08913A997D511D4EF073442C4715614AA02AF92DE698FA2AB45A98B122542D75FA0AA6544C1E9C810EABB3116B427412F5E8B457D5993EF456F5E57478C0B3ED86D158FEC6A7508B14BBA098AED209471DEA90923F8E8A7376D354C6D44C55A512EB434FA522D1614018331D42418BED6E5D05A0F7BEC7A6A0D4A6BB40418B0DAE5E149494D8000A4A8AE4E01434CF72D0FDFE54CAC3D8D493CCB5106867BE2EED453909710DA09B843C46AF9AA2C086E8EB2B43BEF5F7E7EDEEE84F4695E11492D058A7A18A6EF4A09F8A2FA6C341B96F34160DCDBC9D81E29081FE0E3594CCF41AC653DB5253BC2FC3A829FED946EF48F9E73AB497DA2215B5BA9E6FA89E27C7C7A796C66A1947432CC80F4AC5546733457AA07DF89E8DEE34F78EDAA7430F27A4A4D9A51EF458F38B1E447889B3F120D229D92E04BBEEE0AD393A5A1349F63EFA5F1089A5D483668A25A1439C9F4FD78922E62603DBA4B00588D995FA9B07F4123CA79CFD54D8B1624B3529B6E468CD40C857202DB7C31F8A7D071FED2FD71B60829D20C6A90AB0BD609BD642A4B40B5722A79D0B0FB9687CD0462E43AA898C1ACC05A265E64F0AACC5D6278B889E2329F030C1631E524E84D9006D79AC478AB6880B1AA02DCEE048B1E6EE4B819499D2F33F116F15A6D423D448844C1389AA9FDC3E62DE04D344D5556F582BCDDBE1680768BEBD5D7557E030181F6BBE99CD23E1B3B8091F0CA175242A3ED7CF91A5DE96AA7C6DC4CC86B1CEF13C8D4C7CCA7D544270984B6C2F37C121458ED03476F574F6CD38E22A5CA84C42F23D380C17CF8D5A9752E948D552E26D2D996C2EB59212B511249052D919EB522AFCA55A489CED0D830D8E562222372304122A3AD25A40C2A44056445A6176A3403BD637FE382B919A2AB64EB8A762A4ED425AF9444A4B5A6C34CD28E86B595A44204DA5B036863F91A434A28E0671478B435ED71252DE53C6CACA287CD62880C61DD6F5A65CBAE1B2CE660EBCFC4F5686AA608D6EB806EB06D71BEB46572C79F83229B50A0754EF16F3BC9047F160311754FC58BC77773B3FDC6015408A27CE2A2FFFB1FC6E655E10639BE398AF0939D3C18B8A521AC5EE06506FF3E3116FFD38413754BA0F2E4A185E7A5B068C1BFC10ACA14A929CF806FB21CB0556D908FD5D383A514D143A26C2468F0A64B0C506F99DACF300F7600A040EAAD1E2066ECC490B5F46C17E1B8A0362E2D6F94914BC7DFE441F439E228E63C89FE863208E88E0888817FAF8887323383EE285197FF5010F9AC1FA8D19877C8CE41B16E3624EE911137964D497090B9326616630D88ADCAEDD501195E6F6A342D48D1DE179DA381659FEB6185B1957C6318962CD622CD895E73822ECB101AEFADE730257FD78B27739870766EFEC74D08EBD0B22F1E6F6AE8BA81B7BC7B721712CB2ED4931B6C9DE277B2FF00D6DEFB6EDBCB57D7F7BF361EA727EC2BD90AFF4711257F4E3188917934DCB393C289BE684C42C4DD9E93DEA069375258A4318B6CBEC3A5A198618FC27831CBD418AE28F8D6C904AEF6860822A0CDD5860FBE1B1BA299C5867970FF5F1543781E378AA870653862C6582983270D23964188A6BBC8961397F648803BB099A4186BDD3C74A5ED68DE324DF187860F2466EC20993AF0CB8C4EFDD2698C45F34C22790281F429F027BD3368E9D7DAB8F9973E7368E9AF3BA016E0ECFF43B93D019732D371941635E9B8D11ACC7A99F8E666CE0E48DD81928D8943DF3A14203473783859D0916768730E1A5EBC786B88A5B821964C5F3512A953013A8AD52E5099BED944A8043EC87884B78493724BD39588C93B8599770F5B29B85C5F8CC5477040A22CA826AAB1F595A6A3BF5E0A318D3AA6CA0EFC7CD0DB2F3093959CEE61F5107493723477904989856098E0577AD4AD3D27CF44BF3326DD09EEDB4B2996F2FE63DD9C8E86DA48B0942CBC981D9C4A0AFC055A7DF8749FDA3412AEAC593EA7795FA57A4DD11F98059AF51765FD6DBA44801A4F3F072909953CE892F67AB972405DB630470BCFA2558063E402BF412E0BD1BFA8F2049F39B53676727A76733E72AF0DD244FD02C320C2FE8138B5A2987A7E728E51078DB39DDDC3C71116149128FB86D9A53725292A3D7C7C5AF3E92ADF2EE69D3123BD865D4E117375E3FB9317373718B7B63B938B3DBA6DB5F25EDC11F2955665CE7BE676214D0EE7AD39BA4DB7049E36AC4A67E4D558D24BA8355743C170F23C39C96BE093DF07C39FB77D6ECC2B9F9E7E7BAE591731743BF76E19C38BFB52C67527EC93F6CDDE73F9AAA0696D48375C5901F2C9BA73992C92A3BB74A9D54B783B54AB63ABBAE55D62D27AB9CAC7230ABFCAAACF160268354269C5879B4B01159702D714DA6D7FD34559A3E76B0C637F85058C6B6E96FA8C141DE94A44ED72731532B8BE3F26492DD9BA42C9DAC0F8BE4768F52BBC6C35523ADAB72D22CE0AAF2D22CE0CAD3D32C202A92D4A423FBEB4648B1A4AA1CFB836F3E072653D42CF4974A50B380914850B38BCF8A08D94CB4E6B838A967ED9C1C9D72D69C354E8E59F3A5579D5D663A8C962DB3C747CE4DF229F47FD9C317F7501AD4804A5996AD42CA9CF4AE839D4EF5369B6956C9BE9D0F67AAD51BA0B35A91BE12DE6FDF40A5776B938C0F6C21776BB887D47B9BD5DBDB6996F0EA6B16D44E59F4A11D0C7FBDA4C54DDEB48FCFAECA083BD8C186AC55AEBB6ECF5B1DC69A7D0A7E89B8EC77A52D4A103B58D3399898F3A4DC9D2BB738B3EBE063486A978C3ADDFDFACF7EE5E2C21B0D542C58750FB495CAC9AD2A120B738175F4D7695F79F86BAD344C5FC08F7DE71E6BB3886F156D5919A955D1971E754E7D1D044B73F0322EEDAA048FA0AE25A71603C6D340B580FB2CD9223BD16A100E187FC5DF91295B110814285B8F757DFB5636D149D7912B9B51F5DE91E95A1E1914A85A7F457AFBD634C1B19891295A935ABC9C89514FE5706517E4B7AEB2DAB888697FD334AD03BD2CD583AAA53B3E6736165D1BC0A13554B861C74EB3AAB8CDD58D5BA3765C2BC90154A6D152725085695BE3762CA10B5181440E5FBDF8ABFEC318DA17538F3098D1B026ED58CAD00E39D3579C441FC7347FF03AB36C4516FA9B1607D6A96072E923EA9D08C1FE407EB2FC72E63D44500BF23D0D498546113DDA3709E9D28012FAE222940C1B2217C9B02102E4B1A12CCC246443495E87AC86F099F9082B7606842BF00C0A20300DAAF4048B254A43F069EE6E419AFB4C15494E509521CA81919315548994D12E626C52DA058C9CB6A0F6A28C76EE8AA5A4731039657EC52B9A306F79C490E601F188E3707AA4A52455A4F4C5AA10A94A9C7C518EA7F02F29455EAD2B765C53EFE972B0298A328FB0AA2FDF51F3CA1F484524F0BFFC9BD62D88A5B7A2BD644FE415CD85334BC2530BEE33B52F94EE6AF45A110A318408EEE3B42F94AE4AF25A1109EE86F95750B61748E72578391E405C625E19A9A4B05877B09DD6D8B5A5234308A6BB82BA9684D2F7983348FDDC76C3B27C3128AB61D65E5C1D57C7E5BA499E8BECC5D91A54C365AFBE5BCC3FEE43941B9BFF7A03B225688962017186604D04492A989BF0312A6335144725087DB50B485DCF4DDDAB38F51FDD750A5FA383877EB89939D9612E74FCF5017837E1DD3EDDED53D865B07D08088D40311F19FDACE42FC9F3E26E877E2536BA00D9F4513AF15DF8D7BD1F7815DF6F3909A80214289854A48FA36F99A234F2CD4B85E9360A351115E2AB6260F760BB0B20B2E42E5CB95F4013DEA0FABD031B77FD529FFC1221517F0852EC8B37BEBB89E1C2B0C051B7873FA10E7BDBE71FFE0F857C3B4F29DE0000 , N'6.2.0-61023')
