CREATE TABLE [dbo].[Activities] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Activities] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ActivityResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ActivityId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ActivityResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ActivityId] ON [dbo].[ActivityResources]([ActivityId])
CREATE TABLE [dbo].[Teams] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Teams] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[TeamResources] (
    [Id] [int] NOT NULL IDENTITY,
    [TeamId] [int] NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.TeamResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_TeamId] ON [dbo].[TeamResources]([TeamId])
CREATE INDEX [IX_UserId] ON [dbo].[TeamResources]([UserId])
CREATE TABLE [dbo].[AspNetUsers] (
    [Id] [nvarchar](128) NOT NULL,
    [Hometown] [nvarchar](max),
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
CREATE TABLE [dbo].[AspNetUserClaims] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [nvarchar](128) NOT NULL,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
CREATE TABLE [dbo].[AspNetUserLogins] (
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
CREATE TABLE [dbo].[AspNetUserRoles] (
    [UserId] [nvarchar](128) NOT NULL,
    [RoleId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
CREATE TABLE [dbo].[AspNetRoles] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
CREATE TABLE [dbo].[ScheduleResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ScheduleResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[ScheduleResources]([ScheduleId])
CREATE TABLE [dbo].[Schedules] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [StartDateTime] [datetime] NOT NULL,
    [EndDateTime] [datetime] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Schedules] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Assignements] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [UserId] [nvarchar](128),
    [RoleId] [nvarchar](max),
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Assignements] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[Assignements]([ScheduleId])
CREATE INDEX [IX_UserId] ON [dbo].[Assignements]([UserId])
ALTER TABLE [dbo].[ActivityResources] ADD CONSTRAINT [FK_dbo.ActivityResources_dbo.Activities_ActivityId] FOREIGN KEY ([ActivityId]) REFERENCES [dbo].[Activities] ([Id])
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.Teams_TeamId] FOREIGN KEY ([TeamId]) REFERENCES [dbo].[Teams] ([Id])
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id])
ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ScheduleResources] ADD CONSTRAINT [FK_dbo.ScheduleResources_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id])
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id])
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801041408031_Version1.0.0r1', N'Aruba.Eis.Migrations.Configuration',  0x1F8B0800000000000400ED1DD96EE4B8F13D40FE41E8A724F0BA7D64061BC3DE85D7E3D93532630FA63D8BBC0DE86EBA2DAC8E5E493D6323D82FCB433E29BF1052478BF7215147EF0A030CDC1259552C56154BC522EB7FFFF9EFF9F7CF61E07D8149EAC7D1C5ECF8F068E6C16819AFFC687D31DB668FDF7C3BFBFEBB3FFFE9FC7A153E7B3F57ED4E713BD4334A2F664F59B6399BCFD3E5130C417A18FACB244EE3C7EC70198773B08AE7274747FF981F1FCF21023143B03CEFFCE336CAFC10E63FD0CFAB385AC24DB605C1FB780583B47C8EDE2C72A8DE2D0861BA014B7831BB4CB60FE0F0DA4F0FAF118CECE56D82DE7D8D935F66DE65E00344D002068F330F44519C810C917BF629858B2C89A3F562831E80E0FE650351BB4710A4B01CC659DDDC744447277844F3BA63056AB94DB338B404787C5AB268CE766FC4E8D98E85888905A3F0A87346221E2E33FF0B7A54BC98792CCAB3AB20C1CD496E17335330DD87E9210DE3C0DBB53CD889099226FCEFC0BBDA06D936811711DC6609080EBC0FDB87C05FFE13BEDCC7BFC0E822DA06014931A219BDA31EA0471F92780393ECE5237C2CC771B39A7973BADF9CEDB8EB46F429C6761365A72733EF1621070F01DC0904C187451627F04718C1046470F50164194C220C03969C9B2B715D219E55D89004229D9A79EFC1F33B18ADB3A78BD92BA4446FFD67B8AA1E94047C8A7CA481A84F966CA180403552FCBF02E9C9AB575D607D8318749540CCA60A397E74EF87DAAE483D13A66B7366E9A94482EC3FFACDC864FB3AA3F3167CF1D7B9CC31583FC234DE264B98CEBC8F30C85BA44FFEA6B0723B25AC5A15CAF8B97A8C2849E2F0631C103A2F69FAF91E246B98A181C566ED17F9537A20E7F3DAD41819201A783B4344C39A0C920857C52B3D4E351C2C22372A2D407F3A50D7F77E74B75C6E93B41DB5881817602613D78D89ABAD55B716AEB258A616AEB2888D2CDC3D04611BAB56F79F2C9908D7E45A4D76A753D70A2B206319F023D2E0489A70AE94AC5D2B178A07DADCD04CAE93DEE0603EB5759BB09C2BDDA6E3936F270BB23F16A430086E8D07EBA5E88C8C29AD9843A6B4166D95B4E22626B4E6ED5A7952979B0DB22F39D5055D16568EE9BB8F96AD3F2BF1531CC22CFE1A75FE59771D023F50FA51AF5D61B98AA3473F096BA3F0438C241544D6CCF900D2F46B9CAC7E02E953E70C5A40F4B58AB460918170D339B60F4F71046FB7E10356AEFE70399B9AFBAFF15BB044ABFB75847BB586F72E5EFE126FB3EB6885579F4FD9D27631DA017042CEE512B9A8E95B24CC7075156FA3ACBD0FA2FD8E31D33F1D66E95A7415003F944434698BFDB96A4A7CE60B5BF05FF7E266B6CBE6BB78ED4766A4564DE5A4162DB4A496CD6C49C5C0CC282D5BCA09CD1B68E92C5AD992493A09C69F5EA61E89C1A717E5B934F248AA4F86DC37C662A5F249DEEFB6E92ED3CD2DCC0EABDEECFEE52107F6C033EE5CBB3327A6EECCE9F1C3E3E9B7AF5E83D5E9EBBFC3D357BFC78FB6A13EB8F2E9C3483B5F50734C3F8360EB1A55236DC82D977B6DC8C18E5F1B7232D1E32FFE0A5BABB9BE47D51881376A5FC9B3ADCE3194F5AD0ED430FB46DE8F0D68A42E788D72AF2D18EAF895452CCAC2A6D56EA3ADD40F65FDB5BBA3C3489C7B69DB0F49DB97F8CBD05F65585DC40E3939DF9FCB66B52FCEBFE5BE1C044D5AC504715AE06A1B40171B206258FB182AECDE9FAE7835E58F4CF9231232FBDF85A9845268BAC4DAFDB9EE53DB314D53CEA8E9DA3BB1702E2CDB64D1E4B8FE4079248B0C2459ADCAAC6A5B422BC3E34E604D96B1A3CCBA34F5D7518834411217DEBD57984569233E6558DA52146E6D9E9AE3D0A6B343305D039AED6433FC6998EFCC4099ECBAD0D839F2549DC51046E1104F86760017B4A595E576E1B4F6B8754A108782DD7E1336D0536A9D0C8420C44B3F274F7972A4CE07A7878E9C14CF3239BC901879EA39122364527DBC138A7E5DCCFEC6F1DB1CE96EF5E1918A911D73C890458609368900E7BAA4C8C6FB51C69B6F3F5AFA1B10D8D1C580315C07F06CEE10B26FDEC00D8CB009B79B16134AC8B32D3C453BC4CC9AA5E3DFF99C9041B568CA92FE64D2A1CD00ACA54294EC6B2E86DA3C651A51A7A2A7A1A50791D3B0DD84822A177810319364C8486D90265D86303D6CA2252B00EC68EFA237308019F4B0EAE173CE57205D8215BF6E22EBBEB2A44F209B82B40B9D0E34B38E4A8EF56114952C312140BAB9368480967951A602C026498D4D4099EC2C8980969910BD0828CDB101049466C9DE0968910E673AFF4C6EDCD8C4934ECA934867B115DC8B7052EC1A4036297E8C5E3465A98F16AE1DFD29D6A10F49275C5AE841578E2449D0308E24C9FBD1CB9A60575F36FBAA2D7EDEC288AC4B47D64F9158D0BFE99373A907699473C204B938C5AAAFF5581A20932E7AFA6819618FB8B0BB450447BFF9512362F76CBB89DDE828EA638DD5B1DF840632423F0EB153AEB49A906747E2D6708D3D3A3CEC4ADC7A5E64956C1FFD12ABDBA994C981712A0A6F7C9ABB78C67BA53D5B3C43BA7A1046C36919A1F52B28457D32D40326FC87F09B07FC123E67824D69A442E5BE745A6E8CB12284812F6056EDDF3D94B1781F6FE0D73B3B922D0E4E2025D05E88AC00295056FCB5C0B1172F024846C23540B80F01F1B8451F601AC865AE2D3F5AD6FC6BE070A1531150417CD5026C75FA5109B68C8A59802D8F2A2AA1162EBD06A80E901110A10110CFB6CC1E1B6230806C08915941253AC9392D0C54C2AE10A075977311BD0CEFF3624DA1FD0EEE6EFC12D3C1595BFBFD5A110A9F874D5963D4DA80A3D28B43784E1A6D37EA6238D48623312CB14953B04EB7C748B1ACB4B9ADB9253B2C2E103B834D339B6D336238A58D5689957A8B8B8025B2D3CEB954596A3D97443B37367B37ADB8C4ECB348B8540DC63997CAF542CF24C1EE81C5FE412B16D1B17E0987CA8174619A0ADFC3C834F1DFD656716CC7A689FAACD64D41035E890E4CF16CD205604D43B0C40084936D1A31ED5880147970022D338B095A460589118ADC2295EA690381046CDE8973CF3C99EE1944B52CE25A0E19D6B5CE69B3C2795E5985671A056804426165BB4C63326E84AF4AC3DCC50976EFCEE7452586F2C1F95C52B2E1FC3DD86CFC684D9470289F788BA27EC3D5370BFB8A06610163BEA42C241BD5D861CAE204AC21F3B638EBF3D64F527C08063C009CEF7BB50AB966C2A888E41BAB4229087CF0935A7D73559DF0DFA576CB8A5AB0C1123EB45402433DD658D9F2C143526D35003C5C640304201124EB5FC5C1368CE4A13379EFE25815D9BF78620EA138234542289E9843A092DD4940D40B737854063C098F7A61475F9DAACE1258BFB1A3500C917EC3433C9F3372C4852439F1E536696995B05318E203DDADDE30E197E6FAA303D48D1E9149CD241455B2B31C5AB5CB4B4292EDFCCAA110A7AA4940C4630B58F5D16A0A56FD78D27735857BA6EF45E8C78D8E13217A7BBD56759ED6C4494706D311617CC39DC2B45E104D8074A340D5B10B1282EC28865A205828B224013994499146AF48B2885A237792D9706DE047EA2074A333F5A5DE248CFAA939A4F2D66E124CF9C8120671F133078C78670E95BE9B9B8449BF3187C85CC04D82645E5950495EB34D1149BE68044FC251710B0B7BCB5DAC4D595EEEAD3964C115DB2468C1EB06B00534B3EF6C3EC4B85BB8E9EF31EEB59D65E55DBBFAE9682CAA607BD28D79E5534FEC0DAC018C6E4CAC1B8782B83298FA44A81F5BC22A2F05E68095CF472954D20DE7B64255241EB5132A090CB91DA2EEDCA5CD90F2A260394CEA225DCAD4AB2E1296C3B313DD1108886CB3BDAD7CE4D95FEDC4430CA25BA36117D01B68FEBA98B396F3653757ED9607F3A0CD40F323DD98743365924448FBC93305D4CD349209DBD4F78022915B0E6D8AC44FC19112DEB04ADF91B2B756F23F5E689EB99E93B231F42B8B780B794927156C215F4C8AADA670AF145B90A6E52804CA1E11681003D582D887B57B08D77D52C8912B24973AC736D9612F9FEC7EEF52E7CAB4352A9F2EE702CE8ECB479F9629746C1E5BD164E655510024D92F6906C343DCE070F16B7015F810C724AB06EF41E43FC2342BEE809D9D1C1D9FCCBCCBC0076991195966E89DB147018D52F68E4F71CA1E5C8573B6BB7DE21F8692A62BEA8A5AC1C5BA8A1CB73EAEB3F5316FB517D6DAD610236E268FBE8064F90412EE0ED316178F0B61E6578FB7BFBD7B857E64CC4DE02637BF5256C678E84DEF946D43250BAB1199E637471B24A1EDADA093B96C041AEE18F24DB482CF17B37FE7DDCEBC9B7F7DAE7B1E787709B26B67DE91F75BCB6A24D54CFE2504CF7FB5150DAEE2483E94B6F5469A0099B4B273AD94A590EDAD264E4BCE24DCA470FF2E979B2A63CC6EA9297AB55A66AA6F4476F60CB0175D69EC6C0D824985C6A642CA94AF3EF44738BC26C252E78B39F091CAAC31E592F0BA115022CBA980FEE0DB3B4E74CE9883F13219630E205219636EE13961219F1AD61C962017AC9D1D6073C09A932648FA6AEEAFD7E95EB6EB43D5337F7CE0DDA49F22FFD72D7A718FB8C1AC148C66B92A642CC8B7DA5BFF605CCB345749BE95A2F3D5E22DC039AD08BF63DE6F7F804AEBCED6E10F7C217567B087947B97D5D3DB4996F4BA48BEA99BB2E4431B1871F0CB889AA26B9FD3CEE76DED951BDD6C7DC7831E607D3749B7DADB459E2F0F681A08A87B4E31E729A6D07B4C41951FB5B7DAB837716761096591F0342DA1DC18D6A47A9DAB9E3A7B696F956FF0A5B0377FD8BE106FAB75795249D72AE9BE1C6CA9C96D2AB0EAAE0F765253B655995769BEA6897DF2DA9773FDFD966F15CCB04D0555D51DA5AD6B7735AEAAD59FB818DD47C263DDE3F2AB23281828B8E69FA069A022AB7D56C8521D32B708088EBF94EAC884ADDC0A90085B8F0553FB1636D9E1F3910B9B5559D491C95AB1372011B5FEAA9FF62D699263D1231334DB22A7AD446DFC3ED70032D3D0F11A546A1A962B1D4B85D221AD92E6D6847198A43D2B41CA56612266D5B62A9EFCD2FC9685255B95DBEB316AA03F59CAE3DCB7F2A1CDD7306131CF71C9CC004B5823A11974016B5B0CD4A9A59195A71300EFC509EADFEA18DF4B33B8EDB9A64F16139BA674350B76AECBC3CA4C80B59AC63AC42E097C17A78A2F66AB8718C94511AB5714BB93E163C5478A976DA8C02FAFE7272CCE29454DBE14A11317AA13A1D08E52D44886D27C74DCD2C173976D21646BBAB98599B8120F8B521021E4900ADAA8D14A8ADDA97097012325EEB28D1AB7A4849C0A77E1AB2B51174DD498C595B5648835487508CD90C98C3E8756D6504400DBD69C0C2D7A13B4066AC4B949BC1E714DC4ACC6AD206EC6631D4F0D557A94A23A41FCBAA6DFE71440D354BF1D618154C160E4A5A0B5F124068A7376F45701959E5E75FD69DD7E1301495F747ACC054F9D30855AC824B7CEBA674A57F54D9DB0845CEAC417AD7662490A1A5DD43375C594216C4AC7C54B85F32A9AD341A5A3F362A5620F477407A2722996382EE2EBD63A608B4C65ACCB903A5298BE193248D5D17632A376F15557ED9AB3CBA292287FEDD9F9FCE336C20988C5AF3730F7A92B10E708660497549064D7E6267A8CAB780D4351D5843DF80033B00219B84C32FF112C33F41A9FEAF5A3F5CCCB4F4AE2B3E50F707513DD6DB3CD36434386E143403103C77C54F8F372A934CDE7771BFC2B75310444A68F7336EFA21FB67EB0DAD1FD5670FA4702020793CA9C623C9719CE2D5EBFEC20DDC69121A0927DBB18D83D0C37010296DE450BF00536A10DE9FC3BB806CB97FA58A50C887E2268B69FBFF1C13A01615AC2A8FBA39F488657E1F377FF0772F28AAE26D90000 , N'6.2.0-61023')
