
CREATE TABLE [dbo].[Activities] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Activities] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ActivityResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ActivityId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ActivityResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ActivityId] ON [dbo].[ActivityResources]([ActivityId])
CREATE TABLE [dbo].[Assignements] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [UserId] [nvarchar](max),
    [RoleId] [nvarchar](max),
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    [UserEntity_Id] [nvarchar](128),
    CONSTRAINT [PK_dbo.Assignements] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[Assignements]([ScheduleId])
CREATE INDEX [IX_UserEntity_Id] ON [dbo].[Assignements]([UserEntity_Id])
CREATE TABLE [dbo].[Schedules] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [StartDateTime] [datetime] NOT NULL,
    [EndDateTime] [datetime] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Schedules] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ScheduleResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ScheduleResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[ScheduleResources]([ScheduleId])
CREATE TABLE [dbo].[Teams] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Teams] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[TeamResources] (
    [Id] [int] NOT NULL IDENTITY,
    [TeamId] [int] NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.TeamResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_TeamId] ON [dbo].[TeamResources]([TeamId])
CREATE INDEX [IX_UserId] ON [dbo].[TeamResources]([UserId])
CREATE TABLE [dbo].[AspNetUsers] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](max),
    [Address] [nvarchar](max),
    [ZipCode] [nvarchar](max),
    [City] [nvarchar](max),
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
CREATE TABLE [dbo].[AspNetUserClaims] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [nvarchar](128) NOT NULL,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
CREATE TABLE [dbo].[AspNetUserLogins] (
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
CREATE TABLE [dbo].[AspNetUserRoles] (
    [UserId] [nvarchar](128) NOT NULL,
    [RoleId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
CREATE TABLE [dbo].[AspNetRoles] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
ALTER TABLE [dbo].[ActivityResources] ADD CONSTRAINT [FK_dbo.ActivityResources_dbo.Activities_ActivityId] FOREIGN KEY ([ActivityId]) REFERENCES [dbo].[Activities] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.AspNetUsers_UserEntity_Id] FOREIGN KEY ([UserEntity_Id]) REFERENCES [dbo].[AspNetUsers] ([Id])
ALTER TABLE [dbo].[ScheduleResources] ADD CONSTRAINT [FK_dbo.ScheduleResources_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.Teams_TeamId] FOREIGN KEY ([TeamId]) REFERENCES [dbo].[Teams] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801101557523_Version1.0.0r1', N'Aruba.Eis.Migrations.Configuration',  0x1F8B0800000000000400ED1DDB6EDCBAF1BD40FF41D8A7B6F0F1FAD204A9619F039F8D736A34B183AC7350F4259057F45A882E7B246D62A3385FD6877E527FA1A4AEBC5F244AAB4D84008157246786C39921391C72FEF79FFF9EFFF41406CE1790A47E1C5DCC8E0F8F660E8856B1E747EB8BD9367BF8E1D5ECA71FFFF887F32B2F7C727EADEA9DA27AB065945ECC1EB36C73369FA7AB4710BAE961E8AF92388D1FB2C3551CCE5D2F9E9F1C1DFD6D7E7C3C0710C40CC2729CF30FDB28F34390FF803F1771B4029B6CEB06EF620F0469F91D962C73A8CE8D1B8274E3AEC0C5EC32D9DEBB87577E7A78056164CF6F1258F6354E3ECF9CCBC07721414B103CCC1C378AE2CCCD20B9671F53B0CC92385A2F37F0831BDC3D6F00ACF7E0062928BB71D654D7EDD1D109EAD1BC6958815A6DD32C0E0D011E9F962C9AD3CD5B317A56B31032B16014EA75CE48C8C355E67F819F8A829943A33C5B0409AA8E73BB189982E93E480F4918074E5DF3A01613284DE8DF81B3D806D936011711D866891B1C38EFB7F781BFFA0778BE8B3F83E822DA06014E31A41996111FE0A7F749BC0149F6FC013C94FDB8F666CE9C6C37A71BD6CDB03645DFAEA3ECF464E6DC40E4EE7D006A81C0F8B0CCE204FC022290B819F0DEBB59069208C10025E7E6525C0BC8B30A1B9440A85333E79DFBF41644EBECF162F6022AD11BFF0978D58792808F910F3510B6C9922DE01028478AFE97203D79F1A20FACAF21831609406CAA90A34F777EA86C0AD533A19AB667969A4A28C8FE83DF8E4CBAAD353A6FDC2FFE3A97390AEB0790C6DB6405D299F30104798DF4D1DF1456AE56C2AA56A18C9FAACF9092240E3FC401A6F382AA9FEEDC640D32D8B158AFFE32FF4A76E47CDE981A2D034402EF668848589341E2E1AA78A5C629878344E45AA605F04F0BEAFACE8F6E57AB6D9276A316126303CC64E2FA31718DB5EAD7C255164BD7C25516B19D854B537F1D85502D3BD9360ACA64D578B8D026C1DBE216A99D8223F11FC0AA0D643C2773D58FB9AAA48D6FAE2885FDD4D4C60C95A8126BA284353B19A70A4A17D344C2980C130FD777B4FF5B666E92358A4B2BB221B4ABC8B3066BB2833D2DDB6ADB24D89B763385CC7E546934ED6CA92BB0D4AA9047BCA22AD30555FD4E5B6A3EF06EB67DDA520FB7F89CB6D4936D1E668D6AD1C2D1EB555D8BD8CAC2DD0137EC62D59AF69325E3E1FA8E56AB93DDD9C569055240CA32A04FB8C11154619652A27A9D96502CD0F686665A3AA90D0EE253EF3EBBE393579305D91F0B521804BBC6835EA5A88C8C2EAD8843BAB41675A5B4A22A3AB4E6F53AADA410842E06AE69BF8F866D3823A158DCD8D9D15D7A5E02D2B4773CFFF2378A15A21D3C8B5C2C7B467215BA7E205D77BEB4856511470F7E123646F4E7186AB61B194BD37B374DBFC689F777377DEC9D414B0077F7702496991B6E7AC7F6FE318EC0CD36BC474672385CD686E6EE6BFCC65DC1D5D055845A7586F7365E7D8EB759E906FF98AD4C27EF1A8015722E5770499FBE81C20CBC45BC8DB2EE6B36E5BE4F4FFF54985B7BAF9B29EE1351B599C1F93598095C50CD74ADB1085C3F54925AD5E2525914CA082C6B98D2F6365EFB9192B6AA1697B6A250465B59C394360447495A59894B595E2623ACA8604A17BEAED3DE2DEB2E223576CBC462B3D522B2DAE5E5DB192438B2B5E4BB3A58F932DDDC80ECB06A4D47711F32600F1CEDC6CD12F44477097A7A7CFF70FAEAC54BD73B7DF95770FAE25BDC67EF6A8F9C0F1F42DAFF9A1161FAD50DB6B651B5D286DC54D9D7861CECF8B52127137EFEE27BC85ACDD52DAACA10BC56FD4A9E4D758EA26C687520BA3934F2616C402B754173947D6D4150C7AF2C7C51E656AD0E884DA57E57D65F79A0BD1B89B32F6DFB2169DF88CFACF78D215217FE821C1FEF4F65B5662DCE96329B064E1513372EDC3EC62B3FA74A7A8DA6098E27BB7C15798E61A47C310AE2387C38345074FD0D1456F8EB62F61786CFFA48EB4D0B8B948FEC78464BFD6DF41A0420030E6A882E5E2EDC74E57AECE8430E7BE417A8282041C3E322875D0AD5D08F3256ABFC68E56FDCC0AC4B14184DF54464D608E992D7600322244E6623AA43097E4788A5A8464C3154C5BFF33926BE72A956C5A788044C3B58A5113051D09CBE546BC700B248C72AD59A5D1A40AA35475487123C4C6F27522D0E87151A4CF53501CC5432F78D0C2CB33A08777FA457D99921ACB16AE4F642624527EE2231521EBF3742C48BB4D197576590108968AC92AAE8C60072AA18311D0AAA189E9D48A8E090462437AA139B466CF00009526C8E0E0F8F25A2A938ED696FB0DB71A53C0FD2A0963E1CD2E18555159251C5611FE7F44165405A29A9904503A8A790113AB8859EA58115B33CF6D3186CFA0C701C22489D3B0A44B074F9F72D82248B8615419211FB2482C5F1AEC6585367BDE31040F27C59207F8557B36FF123F833ACF4115C18BDF089CEEE0D56B46434688F4B673262607099B7B574C6BBB19BA5333E62A397508E335B243332CF366B8D7896A8272329F1A70F6F26C55C1A401AC59CD041CE3F59EC45100B55816D32D80224956F6C834623AFFCFA1E1582A78C7346073B561ED3A5E5310F2D1908F81264D5ED87FBD297EDA310ABE6504570BAC0184D01B4672C6E4B089436D16AE07894210B96D92D2A0156FE231E38DA89A70D4CD67591335D091CD9521E40DC79A300C29863FE90F3264F05E4F2A08F01854F8F0A10CC5E95078FB3A135005B05574AC1969B1403B06560A4146A615315405580B840301BD240523E0886B5D27C438C367BE607A57577056682B1ACE6C7A23C143E0B9BB0BCB0B6064795F7C1598E1A1DD13926E7655C8E72AC8F84A3BA47725C1436182A79F984239C7AE742862743A4B4E0538B4C1495E740BDB14C78BB8F6598D6B184D1C104D62BFE3C22E199EA2C82E05839D175E696E87202CB2C1D0FB9898F1CEB4E39314A78A37086EBCA6837065513AE94373C3FB9A6A7BC2D4728D7360686B75CB0C9916AAD20E508CF6DABE9B86DCB11CAD32AE04845BD4D8E94AB132943384E443D37625B76907E3F01374ACAFBB0BFC565132DFBCBFAB68CBC5B96ED2FE1D05271BF05AF7871802C9B540E165D170BD601EE60EB7A442C0950159C586FE1EBB2F37991ACA1FC703E176475387FE76E367EB4C6B23C945F9C6591E261F1C3D23CE94158C098AF083ED30E871A531627EE1A50A5C51B386FFC24454F19BAF72E0A1C5D7821538DEBB010EC802A941C9F043B90D5F6A86A84FE2E1795A2BC17B41F83F5F894C0608B359A60F3CE034C1E54001C9487C30DDC84131EBC88836D18899D58E2D6C56572BC7DF1451F42112A8C4328BEE843205EF1C0011105FAF088A73D70784481197DCD1B1C34814D8919857C8864090BF17C4EC911E32D64C49771E5922A61A630D87EDAAEDE500EA1F6FAA302D48F1EE1F1BA3814591CAF185AE50BC62189FCC36228D82B833820ECB301ACE6A9410256F379D2773985FBA6EFD28D6A2B4DA7BDE72D745C09A21FEDC6A3407128B2E850B934D09044C7906228766CC4A48B7BA08B8D8FCF8E2652074FE67AA802F0EDAE55A917D609634016E9C324DE59C7211205934ECB29DC539DB6BD9E169CFFB6D7F1DDACA7EDCEB8D37A7AD2F712DEAEF4BD3875B2A3E3584886B95ECB1A7FBBF3F6A423A3D711EEA9833D85E93C21EA00E94781AAEB5D3804D1952FB94074DF764E8A347A45129D73B5D11C2CC0CE5C63648DFBD194EE1345FD902FE1C5AD3EEAC3A91FEAC5E1D41F0D264FC43D72F2F4D968471984F2955D6263597C3284813DD4CA00C3CAF4A1926FE9E230C912836D03F9602EB173208B0CA8C49FC52588C40B5AC11370945FC360BE601EC225660EA6541F32E7495C1C34A7B8056C0ECD7499C9C10CF36A2E793EC3149BCD0CACC569BE8E6646E00433D9991ED87869F3594203463F93859D0511F6BE2661A59BCF86B0CA17341960E5F7510A953050ADAB5015D1F2DD844A00436C8788072A4933247D55530C9378759230F5B25737C5F0CC44770402220ADCEB2A1FF995856EE2C10731A6C3BB1D8D5F1F63D671BCCCC66AA8BD44DFE343C601B29BBDA23519856EB6B923DB9A1EBBA3D8478E9AB0A0C59731B5C60F03CABF2989D1D19A44E195CDD62226A50B2EF03D3FBF127C9DA2E732EBA732B53B4EC789B222C4848BD2556A012EBFD4BFEB70D13254938821CD79822242735EA465D8281DBB59549939D54C077762CF6906C24354E170F95BB0087C80D6DD5585776EE43F80342B5E5D9D9D1C1D9FCC9CCBC077D322A8B78C4A3DA36FA66A85A91E9FA23055E08573BAB979B02B8292A61E913C897DF25616D739C4A3B13EE2ADF2ED7AD347E5B11C44D11737593DBA099390ACC39BB35C98791ACAEE19E23CF823A37298EB3C6F4F3824B5BBDE36415C172A6958ADC8D47ED35927F0726F051D8FDFC4D030B7E2AF230F3C5DCCFE9D373B73AEFFF9A96979E0DC26D0AE9D3947CEEF1D1FF0AE46F24FA1FBF46753D160B24EE75DE99A73BA0D90492BFBD74AE99A6D6FF5914DF4AEAB8F4DCB4EFA58EDF52CE8A345D59E14CA1E99D4629B86AD216A040452DAE8A7FBADE8BA2C1C736F357D6F969854DCA758AEB5A011319F1D614D56A1F76956274A726F5570E793EDB4F89DB4B28D568A621CF75613F766329C847B10E1FE26A79B2AA4D16CAA295AF5B0A7D35EEAEBAFF127151A870A89021387501D6ECFDAC809CF7EB75A1AD5D18D1660D5118E166015818E160095E18ED2A9EE652BA04CEEFA7BDF7C4148063B5AE82F15EA68012211EA68179E1516B2318DED61718218BBD9373A78B13D699C68C5F6FB90264ED174DEAB5AE69F0F9CEBF463E4FFB6850577901BD40C486996AD74B59C40C1BD5DF78C6BF9C1E40BEF66C3999CE006E0ACE6FDAE99F7FB77904FDBDA22E33D9B2EDB1AEC5DCABDCD1CD9DD244B143CD85BF2E95D1B18BE534F8B9AA2E990C3CE061CEEFD1E41CD69D4E9FEE777FB9994CB2DDD8E9217AB5E13B792C9B9538664E1453E1DF975BA6742FE3E321F73467BC074ADAA17D8AD645EEE94D1783829D47E0B85C5BCF3BCAFE6998AC7267F6CB614DCFE19674ADE1399D378E56E84D2D626CB306754074AF42B7B78BA739AB6D6A9D0869331ADE72C58ACFB9925D84E4AE0311823E95B0AE33044CA1B36C34A8A76E6E4DDE609E5648DC2C8193E49F290C9EE6437BF0D9C1D63CD873C1EC12AFD9A02C11A26F5F1D08225BAFD3D5EC1D2CD723C1EB92A9C9A02B11A24A3F1D05225B8833C32A132CD5E3C16D91ACB927C58F96AB924DFA984B5CC3E3C9684C3BB345E8AE70CC661BE769E5198CDE3438F69F9C400E5FAADEC42736E20F0E61777CB2F66DE7D0CA5A038819064E514E1A3ED91102F5D51825F9C78942583D97EB2043055B8A8F35A809FBF8FC64AFB04199C74051E4671F649113A25AF451565E8F5798D7BA818D478210F1D3F73240F85B297BC4A2294FABDC3277B06255EC8979ECD0DC88A79408588B3A765F071EAC8D10AD22CCA7097DB1E29EEB28E1CB720A1A10C7731BD48511755E498F9B9DF448815485508F9C8C693E299145E5E5E347636539FBB72A029F28FEF49FE664E07E549E5B95024ECD2CC263FC2ECCC7658249A9AF9CF2275674BEF199839DDC03F4B58219ED644AF63776787E8812AAB299699F4A423940BD6276E2D95729BEE0BA77FC1839E5619603B73725706106B10C1E393561960375172D7EEE32B12FEDB8ABD98C5DC17662531723756ECC22CF69CFB983B9ABC911C44260C721DB38FD49DCF3F6C237467A3F8F51AE41BE40A047A7C2F022BC29951D7B98E1EE2CAA742515455A16F8783CCF5DCCCBD4C32FFC15D65B0185DD7F0A3F5CCC943E0D1A5A17BE05D47B7DB6CB3CD609741781F1012817C3332FC79426792E6F3DB0DFA95DAE80224D347D75C6EA39FB77EE0D574BFE184750A4020A74F7939028D65862E49AC9F6B483771A409A8645FEDABBA03E12680C0D2DB68E97E016D6883E2F716ACDDD573132F2F02A21E0892EDE7AF7D779DB8615AC268DAC39F5086BDF0E9C7FF03E9F66059EBDD0000 , N'6.2.0-61023')

