CREATE TABLE [dbo].[Activities] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Activities] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ActivityResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ActivityId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ActivityResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ActivityId] ON [dbo].[ActivityResources]([ActivityId])
CREATE TABLE [dbo].[ScheduleResources] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [RoleId] [nvarchar](max),
    [MinOccurs] [int] NOT NULL,
    [MaxOccurs] [int] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.ScheduleResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[ScheduleResources]([ScheduleId])
CREATE TABLE [dbo].[Schedules] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [StartDateTime] [datetime] NOT NULL,
    [EndDateTime] [datetime] NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Schedules] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Assignements] (
    [Id] [int] NOT NULL IDENTITY,
    [ScheduleId] [int] NOT NULL,
    [UserId] [nvarchar](128),
    [RoleId] [nvarchar](max),
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Assignements] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ScheduleId] ON [dbo].[Assignements]([ScheduleId])
CREATE INDEX [IX_UserId] ON [dbo].[Assignements]([UserId])
CREATE TABLE [dbo].[AspNetUsers] (
    [Id] [nvarchar](128) NOT NULL,
    [Hometown] [nvarchar](max),
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
CREATE TABLE [dbo].[AspNetUserClaims] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [nvarchar](128) NOT NULL,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
CREATE TABLE [dbo].[AspNetUserLogins] (
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
CREATE TABLE [dbo].[AspNetUserRoles] (
    [UserId] [nvarchar](128) NOT NULL,
    [RoleId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
CREATE TABLE [dbo].[TeamResources] (
    [Id] [int] NOT NULL IDENTITY,
    [TeamId] [int] NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.TeamResources] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_TeamId] ON [dbo].[TeamResources]([TeamId])
CREATE INDEX [IX_UserId] ON [dbo].[TeamResources]([UserId])
CREATE TABLE [dbo].[Teams] (
    [Id] [int] NOT NULL IDENTITY,
    [Code] [nvarchar](50) NOT NULL,
    [Name] [nvarchar](255) NOT NULL,
    [DateCreated] [datetime],
    [UserCreated] [nvarchar](50),
    [DateModified] [datetime],
    [UserModified] [nvarchar](50),
    CONSTRAINT [PK_dbo.Teams] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[AspNetRoles] (
    [Id] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
ALTER TABLE [dbo].[ActivityResources] ADD CONSTRAINT [FK_dbo.ActivityResources_dbo.Activities_ActivityId] FOREIGN KEY ([ActivityId]) REFERENCES [dbo].[Activities] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ScheduleResources] ADD CONSTRAINT [FK_dbo.ScheduleResources_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.Schedules_ScheduleId] FOREIGN KEY ([ScheduleId]) REFERENCES [dbo].[Schedules] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Assignements] ADD CONSTRAINT [FK_dbo.Assignements_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id])
ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.Teams_TeamId] FOREIGN KEY ([TeamId]) REFERENCES [dbo].[Teams] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[TeamResources] ADD CONSTRAINT [FK_dbo.TeamResources_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201801081457250_Version1.0.0r1', N'Aruba.Eis.Migrations.Configuration',  0x1F8B0800000000000400ED1DD96EDCC8F13D40FE8198A724D06A74C4C64618ED423B96B3426CC9F0C88BBC19D4B0352296C784E4D81282FDB23CE493F20BE9E631ECFB209BC7AC09038686ACAEAA2E565577575777FDEF3FFF5DFCF81C06CE1790A47E1C5DCE4E8F4F660E88D6B1E7479BCBD92E7BFCEEFBD98F3FFCF10F8B6B2F7C767EA9E0CE111C6C19A597B3A72CDB5ECCE7E9FA09846E7A1CFAEB244EE3C7EC781D8773D78BE76727277F9B9F9ECE01443183B81C67F17117657E08F21FF0E7328ED6609BEDDCE07DEC81202D9FC337AB1CAB73EB8620DDBA6B7039BB4A760FEEF1B59F1E5F431CD9CBDB04BEFB1A27BFCE9CABC07721432B103CCE1C378AE2CCCD20BB179F52B0CA9238DAACB6F0811BDCBF6C01847B74831494DDB8A8C1757B7472867A34AF1B56A8D6BB348B434384A7E7A588E674F346829EED45088558080AF53A172494E13AF3BFC047C58B994393BC58060902C7A55D7C9942E83E488F491C47CE1EF268AF26509BD0BF2367B90BB25D022E23B0CB123738723EEC1E027FFD0FF0721FFF0AA2CB68170438C79067F88E78001F7D48E22D48B2978FE0B1ECC78D3773E664BB39DD70DF0C6B53F4ED26CACECF66CE2D24EE3E0460AF10981C56599C80BF8308246E06BC0F6E96812442384029B9B994D612CAACA2063510DAD4CC79EF3EBF03D1267BBA9CBD8246F4D67F065EF5A064E053E4430B846DB26407380CCA89A2FF2544CF5EBDEA82EA1B28A0650290982AE2E8D1BD1F2A9B42F34CA8A6CD85A5E6122AB2FFE83763936E6B8DCF5BF78BBFC9758EA2FA11A4F12E598374E67C04410E913EF9DBC2CBED8DB0822A8CF173F5187292C4E1C738C06C5E00FAF9DE4D3620831D8BF5E057F953B2238B79ED6AB41C1089BC9D2322714D0E8947AB92959AA61C0F52911B9915C03F2D98EB7B3FBA5BAF7749DA8E5BC88C0D34938BEBC6C5D5DEAA5B0F57792C5D0F5779C4461E0E4D5CBD5D006C78383EAEC9C3F16855B29A3CDCE4E146E3E12AA5E47A38BE757FAEDBD41E4E01CA783815BC150F67C3B34D1E4D4CEB1B5A44AE3237C96A53A64DDB10DB75E459C33579C68EE67E69EA6FA2105A826081BB7F2F718B422076512B84E42D679BAFCB2DFA74BA0BBA6340B37539259F862B720ACBE4D7B9CECED24C1519AE74A67A7AF6BD05DFD2D3847872B4034C415B7A596661ADF4C7BA5C2359E9715C404AB845006A4E73A856D3E2ABED167AAF9CDF8227030F4AB53D44BFD9C2FF18FABD9FE31064F1D7A87397741DBA7E209D0CBFB6456519478F7E12D68EE1A718EAA91B190BE7839BA65FE3C4FBD94D9F3A17D00AAC7709B402387D0FB79D53FBF01447E076173E20E3EA8F96B54F73FF357EEBAEE1DCE13A42AD5AE37B17AF7F8D7759B9DAF994AD4D07A43D022BEC5CADE1A4387D0B951978CB781765ED6737CAC5A89EFDA9280B47A165E0FAA1607D427AECCF152836107121D891880F663A60BE8B377EA4C76A052A66B58050B25A8299B28A90E9715A428A19CD01947C1650A66CDE0337942FF67008C16C4400C22CEE4470AD1675D582249F1F23B592CD49DEEFB34AAED2ED2DC88EABD674BACD3183F6C8D16E5C4F67CE74A733E7A70F8FE7DFBF7AED7AE7AFFF0ACE5FFD1E9784D69672864E36FF7C8868E7036A4EE91737D8D926D5C81A72CF65DF1A72B4E3B7869C4DF8F88BEF216F3557B7A880217A2DF84A9F4D6D8EE2AC6F7320BAD937F17E7C4023734163947D6B4158C76F2C7C55E68256913253AD1FCAFB2B237BFD6A1C3B076A168566F11C623CA5FB490792D36862D0D3B6DC28A2C5482774D73A05AC74AD831E31CB33119CB518718B759906AFED23C508695B0737393631AD6F287162F2834364DFB770861A811FC269B69ABBDB9FB71FC69CFD5076B2868E6F23DBE26B38FEBD3F9760B572B36F998193036232665EA569BCF673AEA42747EA7C70B2CBD791E7182687175F419C7A0E3F0D545D1F8596E1AFCBD95F1839EB13DD7B0196289FD8E98CD6FABBE80D0840061CD4109D355CBAE9DAF5D8AF0F25EC914FA0A180047D1E17ED3BA6D00CFD2863ADCA8FD6FED60DCCBA44A1D1344FC4E69E20FDE60DD88208A993D917D5E1043F16C372B4274C095425BFC51C535F85560B133084AAA5CEC6C0948A49EB32D06175725D4D88CE091E9DF6AA3AD387DEAABE9C0E0F78F2D8301ACBDFF8146A91621714D3553A7FA6431D52F2C75171CE6E9ACA989AA9AA54627DE8A954243A0C0863A6432868B9DDADAB00F4DEF7D81494DA74172868B9C1D58B8292121B404149911C9C8216590EBADF9F4A79189B7A92B91602ED2CD6A5BD282721AE01749390C7E8555314D8107D7D65C8B7FEFEBCDD1DFDC9A8329C42121AEB3454D18D1EF453F1C57438A8F68DC6A2A1B9B733501C32D0DFA18692995EC3786A5B6A8AF7651835C53FDBE81D29FF9882F6525BA4A256D7F30DD5F3E4F8F8D4D2582DE3688805F941A998EAA8A1480FB4CF92B3D19DE6DE51FBB0E3E1849434BBD4831E6B7ED183082F71361E443A25DB8560D71DBC3547476B22C9DE47FF0B22B1947AD04CB1247488F3F3E93A51C4C264609B0CB60009BB527FF3805E82E78CB39F0A3B566EA9A6E5961CAD1908F90A64D576F843B9EFE0A3FDE57A034CB013C4385501B6176CD35A889476E14AE4B473E121178D0FDAC8654835915183B940B4CCFC4981B5DCFA6411D17324051E2678CC43CA89301BA0AD8EF548D196714103B4E5191C29D6C27D299032537AFE27E2ADC2947A841A8990692251F593DB47CC9B609AA8BAB90C6BA579D919ED00CDB7B7F7DD15380CC6C79A6F66F348F82C6EC20743681D898A8FA97364A9B7A52A5F1B31B361AC733C4F23139F721F95101CE612DBCB4D70489123348D5D3D9D7D338EB84A172A93907C0F0EC3C573A3D6A5543952B594785B4B269B4BADA4446D0409A45475C6BA944A7FA91612677BC36083A39588C8CD088184CA8EB4169030299015915698DD28D08EF58D3FCE4AA4A68AAD13EEA91C69BB90563191D292161B4D330AFA5A961611485329AC8DE14F24298DA8A341DCD1E290D7B58494D76EB1B2320A9F350AA0718775BD29976EB8ACB399032FFF9395A12A58A31BAEC1BAC1F5C6BAD1154B1EBE4A4ADD8703F6EF16F3A22E45F960311714B058BC77B75B3FDA60052DCA27CEAAA866B1FC6E655EDF212C70CCD7849CE9E0C59E521627EE06506F8BE3116FFD2445172EBA0F2E4A185E7A2103C60D7E08D65015494E7C83FD90D502AB6A84FE2E1D9DA8C4071D1361A3472532D86283FC4EDE79807B30050207951C710337E1A4852FE3601746E28098B8757112056F5F3CD1C750A488E3188A27FA188823223822E2853E3EE2DC088E8F7861C65F7DC08366B07E63C6211F23F986C5B898537AC4441E19F565C2C2A44998190CB622B76B375444A5B9FDA810756347789E368E4596BF2DC656C595714CA258B3180B7683378E087B6C80ABBEC69BC0553F9EEC5DCEE181D93B3B1DB463EF8248BCB9BDEB22EAC6DEF16D481C8B6C7B528C6DB2F7C9DE4B7C43DBBB6D3B6F6DDFDFDE7C98BA6B9E702FE42B7D9CC48DF33846E2C564D3720E0FCAA63921314B53767A8FBAC1645D89E21086ED2ABB8E56862106FFC920476F90A2F863231BA4D23B1A98A00A43371658DF8D8DE3A89F1A0C69C5E5D7C460563C32C481DD9FCC20C3DEE96325AFB8C671926F0CFC16798F35E1BAC857065CE2B755134CE22F1AE11348940FA14F81BD9F1AC7CEBED5C7CCB9A91A47CD79DD00378767FA9D49C089B9CC9A8C3B31AFCD3C2B3B8DAD9F8EC6A372B22DECB85736D1CDDCC16AE0E8C6C5DA99966037EF12CBA1FAB121AEF26E5D0659F97C944A25CC9F69AB54459A633BA512E010FB21E2EA5AD20D49EFDB15E324EEA3255CBDEC3E5E313E33D51D8182887287DAEA479ECCD94E3DF828C6B49619E8FB71336AEC7C424E6EB0F947D441D2CDC8511D9C25A65582C3B45DABD2B4A01DFD82B64AB6B3673BAD6CE6DB8B144F36327A1BE96282D07272603631686725FA3ADEE9F76112E668903DF5F2C9FEF73E61AE4C5623B2E8F25EA39CB8BCB76999384767AF152033A79A135FCE562F6906C2630470BCFA57B00C7C8056E815C07B37F21F419A15F78DCECE4E4ECF66CE55E0BB6991D658E6E55DD0E7FCB412F54ECF51A21EF0C239DDDC3CDD0F6149538FB8A39953775092D9D6C775A93E92ADF2C666D3C234D815CED11737593FB90973DF6F8BDB56B938F33B9ADB5FC0ECC11F19556B5AE796646214D0EE7AD3FB97DB7049E36AC4A67E614D8DD4B38355743C830D23C39C31BE893CF07C39FB77DEECC2B9F9E7E7BAE591739740BF76E19C38BFB52C02527DC93F85EEF39F4D55034B85C1BA62C80F9603D31CC964959D5BA54E82D8C15A255BA25BD72AEB9693554E56399855FEAEACF160268354FE985879B4B011B9632D714DA6D7FD34559A7475B0C637F85058C5B6E96FA8C141D194A44E57F530532B8BE3F26492DD9BA42C09AB0F8BE4768F523B2D23A833B82C685E99C7251DFC5E37428AE51D15D81F7CF3692299C565A1BF540E97058C440E975D7C5644C8266B35C7C5C9CE6AE707E8ACACE6AC71D2B09AAF4EEA042CD391A66A993F3E726ED24F91FFAF1D7C710FA5418D399465D9AAD0CBC9803AD819476F037EB312E9AD0C9D2D836E80CE6AA9F3BDF07EFB064A885B1B873FB015C2ADE11E52EF6D96056FA759C23B9559503BF5B6877630FC2585163745D33E3EBB2A69EA60071BB208B6EED2B6687518CBDA293E24E2B2DFC5A82887EA604DE760C2B2937277AEDCE2E4A7830AB3345BFFA14E77BFFEB35F12B7F4460355A1555D306CA5246FAB52B7C274591DFD75DA97B4FDBD96B0A56F76C7BE738F453FC4D755B62CB9D3AA9A488F3AA7BE6780A539787D9076E5674750309173C93FC6D3404566FBAC05223BF469100E187F29D991295B190814285B8F0563FB5636D161D0912B9B5159D891E95A111914A85A7FD55FFBD634C1C99191295A9322AF9C89514F75566537AFB72EDFD9B83A667FD334AD33AF2CD5832AD23A3E6736165D1BC0A13554B861C74EB372ABCDD58D5BFC745C2BC90154A6D152725085695B3C752CA10B51E53D0E5FBDF8ABFEC318DA371E8F3098D1B0D8E958EA9B0E39D3571CD61EC7347FF002A66CA90FFA9B9667BAA96072E523EA9D08C1FE4071F8FA72E63DC4500B8A3D0D49E93F113DDA3709E9D28012FAE2EA860C1B2217C9B02102E4B1A1ACF8236443495E87AC86F099F9082B7606842BF01C0A20300DAAF4048B254A43F0696E6F4156F84C15494E509521CA81919315941F94D12E636C52DA258C9CB6A0A89F8C76E18AA5A40B1039657E29259A306F79C490E601F188E3707AA4A52455A4F4C5AA10A94A9C7C518EA7A22C29455E1125765C53EFE972B029AAFD8EB05C2CDF51F3EED5978A48E07FF957785B104B6FD560C99EC84B650B679684A7165CF9695F28DD157FB522146208115C59695F285DD57AB52212DC0DF36F696C2F90CE6BBB723C80B876B932524961B1EE603B2DDE6A4B4786104C77955A2D09A5EF316790C2ACED8665F96250561CABBDB83A2EBBCA75933C17D98BB33528B3CADE0EB7987FDC452837B6F8F506E44BD00AC502E28CC09A0892EC616EA2C7B88AD5501C5520F4ED2720733D3773AF92CC7F74D7197C8D0E1EFAD166E6E487B9D0F1D707E0DD4477BB6CBBCB609741F810101A81623E32FA792D5992E7C5DD16FD4A6D7401B2E9A374E2BBE8A79D1F787BBEDF72125005285030A94C1F47DF324369E49B973DA6DB38D244548A6F1F03BB07E13680C8D2BB68E57E014D7883EAF70E6CDCF54B7DF24B8444FD2148B12FDEF8EE26810BC31247DD1EFE843AEC85CF3FFC1FF93AF5A751DB0000 , N'6.2.0-61023')
